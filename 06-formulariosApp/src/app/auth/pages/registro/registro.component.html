<h2>Validaciones Reactivas</h2>
<hr>

<div class="row">
    <div class="col">
        <form autocomplete="off" [formGroup]="miFormulario" (ngSubmit)="submitFormulario()">

            <!-- Nombre -->
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Nombre</label>
                <div class="col-sm-9">
                    <input type="text" 
                           class="form-control"
                           placeholder="Nombre del usuario"
                           formControlName="nombre">

                           <span class="form-text text-danger"
                                 *ngIf="campoNoValido('nombre')"> 
                                    Debe de ser en formato de nombre y apellido 
                            </span>
                </div>
            </div>

            <!-- Email -->
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Email</label>
                <div class="col-sm-9">
                    <input type="email" 
                           class="form-control"
                           placeholder="Email del usuario"
                           formControlName="email">

                           <span class="form-text text-danger"
                           *ngIf="campoNoValido('email')"> 
                             {{emailErrorMsg}}
                      </span>
                        
                </div>
            </div>

            <!-- username  -->
            <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Username</label>
                <div class="col-sm-9">
                    <input type="text" 
                           class="form-control"
                           placeholder="Nombre codigo del usuario"
                           formControlName="username">

                           <span class="form-text text-danger"
                           *ngIf="campoNoValido('username')"> 
                              El Username no puede ser Strider
                         </span>
                         
                        
                </div>
            </div>

             <!-- Password  -->
             <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Password</label>
                <div class="col-sm-9">
                    <input type="password" 
                           class="form-control"
                           placeholder="Password"
                           formControlName="password">
                           <span class="form-text text-danger"
                           *ngIf="campoNoValido('password')"> 
                              La contrase単a debe de ser mayor a 6 caracteres
                         </span>
                        
                </div>
            </div>

             <!-- Password confirmar  -->
             <div class="row mb-3">
                <label class="col-sm-3 col-form-label">Confirmar</label>
                <div class="col-sm-9">
                    <input type="password" 
                           class="form-control"
                           placeholder="Confirmar la contrase単a"
                           formControlName="password2">
                           <span class="form-text text-danger"
                           *ngIf="campoNoValido('password2')"> 
                              Las contrase単as deben de ser iguales
                         </span>
                </div>
            </div>

            <div class="row">
                <div class="col">
                    <button class="btn btn-primary float-end"
                            [disabled]="miFormulario.pending"
                            type="submit">
                        Crear
                    </button>
                </div>
            </div>

        </form>
    </div>
</div>


<h5>Form valid: {{ miFormulario.valid}}</h5>
<hr>
<h5>Form status: {{ miFormulario.status}}</h5>
<hr>
<h5>Form pending: {{ miFormulario.pending}}</h5>
<hr>

<h5>Form errors: </h5>
<pre>{{ miFormulario.errors | json}}</pre>

<h5>Nombre: </h5>
<pre>{{ miFormulario.controls.nombre.errors | json }}</pre>

<h5>Email: </h5>
<pre>{{ miFormulario.controls.email.errors | json }}</pre>

<h5>Username: </h5>
<pre>{{ miFormulario.controls.username.errors | json }}</pre>

<h5>Password: </h5>
<pre>{{ miFormulario.controls.password.errors | json }}</pre>

<h5>Confirmar Contrase単a: </h5>
<pre>{{ miFormulario.controls.password2.errors | json }}</pre>